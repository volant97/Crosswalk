# 

# Crosswalk


![image](https://github.com/volant97/Crosswalk/assets/96414670/4827a17e-0fb3-42d8-bb2f-b819d756f2a1)
![image](https://github.com/volant97/Crosswalk/assets/96414670/783ebe40-2cea-4059-b23d-949424deeb44)
![image](https://github.com/volant97/Crosswalk/assets/96414670/68f2a0ad-fea7-4939-921b-246da0a2b330)


## Introduction

**Crosswalk : 블라인드 매칭 및 실시간 채팅을 통해 소울메이트를 만들 수 있는 서비스**

- 웹 앱 형태로 나와 관심사가 맞거나 맘에드는 사람을 픽하여 하나씩 알아가고 나와 맘이 맞는 친구를 찾아 줍니다!
- 횡단보도 양끝에서 마주친 두 사람. 실시간 대화를 진행하고 호감도를 쌓아 신호등을 밝혀주세요. 초록불이 켜지길 기대할게요!
- 서로를 밝혀주는 운명의 신호등을 찾길 바라요.

## Duration

2024.01.04 ~ 2024.02.08

## Team Member

| 팀원 | 역할 | 깃허브 | 블로그 |
| --- | --- | --- | --- |
| 윤창근 | 리더, 로그인, 받은 요청함 | https://github.com/volant97 | https://y-developer.tistory.com/ |
| 이하민 | 부리더, 알림창, 전체 규격 CSS | https://github.com/dancinncoder | https://whereannalee.tistory.com// |
| 임세현 | 채팅리스트 및 채팅방 | https://github.com/yachaechae | https://velog.io/@yachaechae |
| 서지훈 | 메인 페이지, 마이페이지, 프로필 디테일페이지 | https://github.com/Jihunee | https://jihune6439.tistory.com/ |

## Development Environment

1. Next
2. TypeScript
3. HTML
4. Tailwind CSS
5. Recoil
6. NextUI

## Data Manamgement

- supabase

## Features

- 블라인드 매칭 및 실시간 채팅을 통해 소울메이트를 만들 수 있는 서비스
1. Supabase 소셜 로그인
supabase Auth를 사용하여 구글, 카카오, 스포티파이로 저희 컬러에 맞는 신호등 색의 로고로
3가지의 소셜로그인을 구현 하였습니다.
2. Supabase DB
    - User DB
       - 로그인한 유저를 supabase 트리거를 통해 Auth user 값이 들어오면 자동적으로 custom_usesr 테이블에
    유저의 uid값이 저장되어 추가로 회원등록하는 곳에서 custom_users에 추가 적인 유저정보를 저장 및 수정
    할 수 있게 끔 구현하였습니다.
    - Flirting Message
       - Flirting Message를 데이터 베이스에 담아주어 받은 요청함에서 사용 할 수 있게 끔 해주었습니다.
    - Chat Message
       - ChatMessage를 데이터 베이스에 담아주어 채팅방에서 사용할 수 있게 끔 해주었습니다.
3. supabase RealTime
    - 받은 요청 및 실시간 알림 서비스
       - supabase에서 realTime를 활용하여 요청 및 알림을 실시간으로 값을 요청 하거나 응답 받을 수 있게 user의 UI/UX를 고려하여 user의 편의성을 중점으로 생각하여 구현하였습니다.
    - 채팅 실시간 구현
       - realTime를 활용하여 채팅이 실시간으로 가능 하게끔 하여 실시간 채팅이 원할하게 되도록 구현하였습니다.
4. recoil을 사용하여 유저 정보를 전역적으로 상태관리
처음에 가져오는 유저 정보를 전역적으로 상태관리하여 어디서든지 사용할 수 있게 끔 관리 해주었습니다.
5. React-Swiper
복잡한 슬라이더 구조를 react-swipre을 활용하여 좀 더 코드의 가독성을 높이는 방향으로 하여금 swiper를
선택하였으며 swiper을 활용하여 좀 더 부드럽고 편한 슬라이더를 구현하였습니다.
6. PWA (Progressive Web Apps)
    - 홈 화면에 저장되면 브라우저에서 실행되며, 네이티브 앱처럼 동작하는 이점이 있어 적용을 하였습니다.
        - 기존의 웹사이트를 앱으로 만들 수 있기 때문에, 추가로 유지관리해야 하는 코드베이스(codebase, 소스코드 일체)가 적다.
        - PWA는 기본적으로 반응형(responsive)이기 때문에, 다양한 화면 크기에도 잘 동작한다.
        - PWA를 설치하게 함으로써 보다 높은 참여를 이끌어낼 수 있다.
        

### Crosswalk 서비스 부분

1. 소셜 로그인
해당 로그인할 플랫폼으로 로고로하여 로고를 클릭하면 간단한 로그인을 할 수 있습니다.
2. 개인정보 제공 동의
    
    저희가 user의 개인정보를 이용하여 1대1 매칭 시스템이다 보니 user의 개인정보 제공 동의가 필요합니다.
    
- 메인
- 카드 슬라이더
    - 카드를 통하여 유저의 아바타 및 유저의 정보 및 관심사 부분을 보여줍니다.
    - 괜찮아요 버튼 및 어필하기 버튼을 통하여 유저를 선택하거나 넘길 수 있습니다.
    - 카드 3d 애니메이션을 통해 카드에 대한 호기심을 유발하며 시각적인 UX를 충족시켰습니다.
- 알림
    - 유저의 요청이 수락 되었거나 요청을 보냈거나 하는 것을 실시간 알림으로 통하여 유저에게 보여줍니다.
    - 받은 알림이 없을 때는 받은 알림이 없습니다와 같은 문구를 띄워 유저에게 알려줍니다.
- 받은 요청함
    - 상대가 어필하기를 통해 요청을 보내면 실시간으로 응답을 받아 수락 혹은 거절 버튼을
    통하여 유저를 선택 할 수 있습니다.
    - 수락을 하면 긍적인 문구를 통해 유저에게 알려주고 거절을 누르면 아쉬운 문구를 통해 유저에게 알려줍니다.
- 채팅 리스트
  - 어필하기를 통해 수락 받아 서로가 신호가 맞으면 채팅방을 생성 해주며 상태에 따라 아바타 아웃라인 컬러가 변경됩니다.
    - 노란색이면 현재 진행중 상태
    - 빨간색이면 상대가 거절한 상태
    - 초록색이면 호감도 100%인 상태
- 채팅방
    - 서로의 실시간 채팅을 주고 받을 수있습니다.
    - 연결 되었으면 안내 문구와 함께 채팅을 시작할 수 있습니다.
    - 채팅방 부분에는 서로의 프로필을 확인할 수 있습니다.
    - 호감도 100%가 되면 서로의 시크릿 사진이 공개 됩니다. (얼굴사진)
- 마이페이지
    - 나의 정보를 확인 할 수 있으며 나의 정보를 수정할 수 있습니다.
    - 로그아웃을 할 수 있습니다.

## Distribution

- Vercel

## Update History

**[Crosswalk V. 1.1 업데이트 사항]**

- 회원정보 등록 중간 페이지 이탈 또는 새로고침 시, 회원정보 등록 오류 발생 -> 처리완료
- 기존 반대 성별 끼리만 대화할 수 있었던 기능 -> 이성,동성 모두 대화할 수 있게 처리 완료
- crosswalk 요청을 이미 보낸 사람, 받은 사람이 메인 화면 카드에서 계속 보이는 문제 -> 안보이게 처리 완료

**[알림 사항]**

- 사진을 담는 storage 과부화가 있어, 유저들의 사진이 안보이는 현상이 있을 수 있습니다. 양해 부탁드립니다.

**[Crosswalk V. 1.2 업데이트 사항]**

- 회원정보 등록 시 이미지 업로드 후, 프로필에서 보이지 않는 문제 -> 처리 완료
- 로딩 중 spinner 추가 -> 처리 완료
- 회원정보 등록 페이지, 마이페이지에서 사진 업로드 시 확장자 제한 -> 처리 완료

**[Crosswalk V. 1.3 업데이트 사항]**

- 채팅방 열림 조건 완화 (어필하기 요청 수락 후, 바로 입장 가능) -> 처리완료
- 회원등록 및 프로필 사진 업로드 오류 -> 처리완료
- 14세 이하 나이제한 추가
- 알림창 개선
- 상대방이 채팅방을 나갔을때(빨간불) 안내 메세지 출력 및 추후 메세지 전송 차단
- 채팅 리스트 안 읽은 메세지 표시 추가
- 채팅방 입장 시, 최근 메세지로 이동

**[Crosswalk V. 1.4 업데이트 사항]**

- 소울메이트 달성 후, 축하 메세지 모달 양측 유저에게 동시에 나오지 않았던 문제 -> 해결
- 소울메이트 달성 후, 페이지를 벗어난 후 다시 해당 채팅방에 들어왔을 때 축하 메세지 모달이 다시 뜨는 문제 -> 해결

**[Crosswalk V. 1.5 업데이트 사항]**

- 소울메이트 달성 후, 상대 프로필에서 공개된 실제 이미지가 안나오는 문제> 해결
- 상대 프로필 카드 이름 정보 가독성 문제 보완
- 채팅방 리스트 날짜 출력 오류 -> 해결

**[Crosswalk V. 1.6 업데이트 사항]**

- PWA 적용 완료 (IOS: 홈화면에 추가, Android: 앱설치, 브라우저: 북마크 별 왼편 아이콘 클릭)
- 메인페이지 프로필 애니메이션 최적화
- 모바일 환경 규격 버그 -> 처리 완료

**[Crosswalk V. 1.7 업데이트 사항]**

- 프로필 카드 캡슐, 모달 UI, ver 폰트 크기 CSS 수정
- 문의페이지 이메일 유효성 검사 및 모달 적용
- 회원등록페이지 개별 페이지로 구조 변경 및 CSS 최적화

## FeedBack
![13](https://github.com/volant97/Crosswalk/assets/96414670/f8abfbcd-ddfa-4bcc-9e8a-e3b8085921b7)
![14](https://github.com/volant97/Crosswalk/assets/96414670/846fc715-5195-44b9-86bf-ef21cdc110e2)
![15](https://github.com/volant97/Crosswalk/assets/96414670/3c4737ae-6f9a-4b8d-a84d-02e0aca88c49)
![16](https://github.com/volant97/Crosswalk/assets/96414670/37bfc3ee-eb0c-47da-881f-a1cd4ab03f0c)
